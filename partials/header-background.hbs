{{!--
Wow what the hell is going on in here even?

Ok so, several templates use this big header with a giant BG image. Nice idea, but big images
have a heavy impact on performance, so it's a good idea to make them responsive. Because we
can only get the image dynamically using Handlebars, and we can only set the image to properly
be a background image using CSS, we end up with a handful of inline styles.

If the template in question has a background image, then we render responsive image styles
for it, and apply those styles to the <header> tag. Else, we just output a <header> tag
with a `no-image` class so we can style it accordingly.
--}}

{{#if background}}

<style type="text/css">
    .responsive-header-img {
        background-image: url({{img_url background size='xl'}});
    }

    @media(max-width: 1000px) {
        .responsive-header-img {
            background-image: url({{img_url background size='l'}});
            background-image: -webkit-image-set(url({{img_url background size='l'}}) 1x,
                url({{img_url background size='xl'}}) 2x);
            background-image: image-set(url({{img_url background size='l'}}) 1x,
                url({{img_url background size='xl'}}) 2x);
        }
    }

    @media(max-width: 600px) {
        .responsive-header-img {
            background-image: url({{img_url background size='m'}});
            background-image: -webkit-image-set(url({{img_url background size='m'}}) 1x,
                url({{img_url background size='l'}}) 2x);
            background-image: image-set(url({{img_url background size='m'}}) 1x,
                url({{img_url background size='l'}}) 2x);
        }
    }
</style>
<div class="outer site-header-background responsive-header-img">

{{else if youtube_id}}
<style type="text/css">
    .responsive-header-iframe {
        background: none!important;
        overflow: hidden;
    }

    .responsive-header-iframe:before,
    .responsive-header-iframe:after {
        display: none;
    }

    .video-background {
        background: #000;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -999;
    }
    .video-foreground,
    .video-background iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -999;
        pointer-events: none;
    }
    
    @media (min-aspect-ratio: 16/9) {
        .video-foreground {
            height: 300%;
            top: -100%;
        }
    }
    @media (max-aspect-ratio: 16/9) {
        .video-foreground {
            width: 300%;
            left: -100%;
        }
    }
</style>
<div class="outer site-header-background responsive-header-iframe">
    <div class="video-background">
        <div class="video-foreground">
            <iframe src="https://www.youtube.com/embed/{{youtube}}?autoplay=1&mute=1&enablejsapi=1&controls=0&loop=1&modestbranding=1&playsinline=1&disablekb=1&playlist=u_6a2h6l7q0" frameborder="0" width="100%" height="100%" allow="autoplay"></iframe>
        </div>
    </div>
{{else}}

<div class="outer site-header-background no-image">

{{/if}}